(this.webpackJsonpmylord=this.webpackJsonpmylord||[]).push([[0],{22:function(e,t,a){e.exports=a(32)},3:function(e,t,a){e.exports={page:"home_page__HDE1Y",title:"home_title__3kp6E",playerform:"home_playerform__iyUe0",btnAdd:"home_btnAdd__IPl-U",btnAddDeactivated:"home_btnAddDeactivated__2Kufp",container:"home_container__BgxvJ",playercounter:"home_playercounter__uzQA1",appear:"home_appear__nIoqA",btnDel:"home_btnDel__3JyJ9",deletedItem:"home_deletedItem__12rt-",deleteItem:"home_deleteItem__2Bi0k",btnPlay:"home_btnPlay__jz78I",btnPlayDisabled:"home_btnPlayDisabled__uf9FI"}},32:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(20),c=a.n(r),o=a(8),s=a(13),i=a(1),m=a(14),u=a(34),d=a(3),p=a.n(d),y=function(e){return n.a.createElement("form",{autoComplete:"off",className:p.a.playerform},n.a.createElement("label",null,"Player's name"),n.a.createElement("input",{id:"playerName",type:"text",maxLength:"25"}),n.a.createElement("button",{className:e.players.length<8?p.a.btnAdd:p.a.btnAddDeactivated,type:"submit",onClick:function(t){t.preventDefault(),function(t){""!==t.target.parentNode.children[1].value&&e.players.length<8&&(e.setPlayers([].concat(Object(m.a)(e.players),[{name:t.target.parentNode.children[1].value,index:Object(u.a)()}])),t.target.parentNode.children[1].value="")}(t)}},"+"))},g=function(e){return n.a.createElement("div",{className:p.a.container},n.a.createElement("span",{className:p.a.playercounter},"".concat(e.players.length,"/8")),n.a.createElement("ul",{className:p.a.playerlist},e.players.map((function(t){return n.a.createElement("li",{key:t.index},t.name,n.a.createElement("button",{onClick:function(a){a.target.parentNode.className=p.a.deletedItem,setTimeout((function(){return e.deletePlayer(t.index)}),1e3)},className:p.a.btnDel},"X"))}))))},_=function(e){var t=e.players,a=e.setPlayers,l=e.deletePlayer,r=0;return n.a.createElement("div",{className:p.a.page},n.a.createElement("h1",{className:p.a.title},"MyLord"),n.a.createElement("div",null,n.a.createElement(y,{players:t,setPlayers:a}),n.a.createElement(g,{players:t,deletePlayer:l})),t.length>2?n.a.createElement(s.b,{to:"/play",onClick:function(){t.forEach((function(e){e.index=r++})),localStorage.clear(),localStorage.setItem("players",JSON.stringify(t))},className:p.a.btnPlay},"Play !"):n.a.createElement("button",{disabled:!0,className:p.a.btnPlayDisabled},"Play !"))},h=a(4),f=a.n(h),b=function(e){var t=e.callback,a=e.choices;return n.a.createElement("div",{className:f.a.modal},n.a.createElement("ul",null,a.map((function(e){return n.a.createElement("li",{key:e.index,onClick:function(){return t(e.index)},className:f.a.label},e.name)}))))},S=function(){var e=JSON.parse(localStorage.getItem("players")),t=Object(l.useState)(JSON.parse(localStorage.getItem("currentPlayer")||null)),a=Object(o.a)(t,2),r=a[0],c=a[1],s=Object(l.useState)(parseInt(localStorage.getItem("turnCounter"))||0),i=Object(o.a)(s,2),u=i[0],d=i[1],p=Object(l.useState)(JSON.parse(localStorage.getItem("dice"))||[1,1]),y=Object(o.a)(p,2),g=y[0],_=y[1],h=Object(l.useState)(JSON.parse(localStorage.getItem("joker"))||null),S=Object(o.a)(h,2),N=S[0],E=S[1],O=Object(l.useState)(JSON.parse(localStorage.getItem("lords"))||[]),I=Object(o.a)(O,2),k=I[0],v=I[1],J=Object(l.useState)(JSON.parse(localStorage.getItem("calculateRules"))),j=Object(o.a)(J,2),x=j[0],P=j[1],C=Object(l.useState)(JSON.parse(localStorage.getItem("setShowJokerModal"))),M=Object(o.a)(C,2),D=M[0],w=M[1],A=Object(l.useState)(JSON.parse(localStorage.getItem("setShowLordsModal"))),L=Object(o.a)(A,2),R=L[0],z=L[1],Y=JSON.parse(localStorage.getItem("rules"))||[],B=function(){localStorage.setItem("players",JSON.stringify(e)),localStorage.setItem("currentPlayer",JSON.stringify(r)),localStorage.setItem("turnCounter",JSON.stringify(u)),localStorage.setItem("dice",JSON.stringify(g)),localStorage.setItem("joker",JSON.stringify(N)),localStorage.setItem("lords",JSON.stringify(k)),localStorage.setItem("calculateRules",JSON.stringify(x)),localStorage.setItem("showJokerModal",JSON.stringify(D)),localStorage.setItem("showLordsModal",JSON.stringify(R)),localStorage.setItem("rules",JSON.stringify(Y))};if(g!==JSON.parse(localStorage.getItem("dice"))&&x){Y=[];var T=g[0]===g[1],K=g[0]+g[1],W=3===g[0]||3===g[1];T&&Y.push("Choose someone to take ".concat(g[0]," sip(s).")),5===K&&Y.push("The last person to say MyLord with a hand on their heart has to take a sip."),7===K&&Y.push("Cheers! Everyone takes a sip!"),W&&(null===N?(Y.push("You are now the joker."),E(r),B()):r&&r.index!==N.index?Y.push("The joker (".concat(N.name,T?") has to take 2 sips":") has to take 1 sip")):(Y.push("You are no longer the joker."),E(null),B())),3===K&&(Y.push("Choose a new joker:"),w(!0)),12===K&&((k.length+1)%e.length!==0?(z(!0),Y.push("The player drinking those will become lord.")):(Y.push("Maximum number of lords reached. Everyone loose their lord role. You can cancel any of the rules set by a lord."),v([]))),P(!1),B()}return n.a.createElement("div",{className:f.a.page},n.a.createElement("h1",{className:f.a.title},"MyLord"),n.a.createElement("h3",{className:f.a.playerName},r?r.name+"'s turn":null),n.a.createElement("div",{className:f.a.dices},n.a.createElement("img",{alt:"Dice value (".concat(g[0],")"),src:"/images/".concat(g[0],".svg"),className:f.a.dice1}),n.a.createElement("img",{alt:"Dice value (".concat(g[1],")"),src:"/images/".concat(g[1],".svg"),className:f.a.dice2})),n.a.createElement("div",{className:f.a.rules},u%2===0?null:Y.map((function(e){return n.a.createElement("div",{key:e},e)}))),D?n.a.createElement(b,{role:"joker",callback:function(t){return function(t){E(e.filter((function(e){return e.index===t}))[0]),w(!1),B()}(t)},choices:e.filter((function(e){return!N||e.index!==N.index}))}):R?n.a.createElement(b,{role:"lord",callback:function(t){return function(t){v([].concat(Object(m.a)(k),[e.filter((function(e){return e.index===t}))[0]])),z(!1),B()}(t)},choices:e.filter((function(e){return-1===k.map((function(e){return e.name})).indexOf(e.name)}))}):void 0,r?u%2===0?n.a.createElement("button",{onClick:function(){return P(!0),d(u+1),_([Math.floor(6*Math.random())+1,Math.floor(6*Math.random())+1]),void B()},className:f.a.btnRoll},"Roll the dice"):n.a.createElement("button",{onClick:function(){return function(){if(!D&&!R){d(u+1);var t=e[r.index+1];c(t||e[0]),localStorage.setItem("currentPlayer",JSON.stringify(t||e[0])),localStorage.setItem("turnCounter",JSON.stringify(u+1))}}()},className:f.a.btnNext},"Next player"):n.a.createElement("button",{onClick:function(){localStorage.setItem("currentPlayer",JSON.stringify(e[0])),c(e[0])},className:f.a.btnStart},"Start playing"))},N=function(){var e=Object(l.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1];return n.a.createElement("div",{className:"App"},n.a.createElement(s.a,null,n.a.createElement(i.c,null,n.a.createElement(i.a,{path:"/",exact:!0},n.a.createElement(_,{players:a,setPlayers:r,deletePlayer:function(e){r(a.filter((function(t){return t.index!==e})))}})),n.a.createElement(i.a,{path:"/play",exact:!0},n.a.createElement(S,null)))))};c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(N,null)),document.getElementById("root"))},4:function(e,t,a){e.exports={page:"play_page__13ZIO",title:"play_title__1VCX1",playerName:"play_playerName__39zuN",dices:"play_dices__H6umK",dice1:"play_dice1__3nu5k",dice2:"play_dice2__nbtvb",rules:"play_rules__Wz-hM",btnRoll:"play_btnRoll__3L-z4",btnNext:"play_btnNext__3AkWN",btnStart:"play_btnStart__3vi-l",modal:"play_modal__1LuYK",label:"play_label__3CsWB"}}},[[22,1,2]]]);
//# sourceMappingURL=main.0122c293.chunk.js.map